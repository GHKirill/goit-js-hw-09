{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAGA,IAAIC,EAAY,KAChB,MAAMC,EAAM,CACVC,KAAMC,SAASC,cAAc,QAC7BC,OAAQF,SAASG,iBAAiB,SAClCC,OAAQJ,SAASC,cAAc,WAKjC,SAASI,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KACLC,KAAKC,SAAW,GAEpCC,YAAW,IAAMJ,EAAQ,C,SAAEH,E,MAAUC,KAAUA,GAE/CM,YAAW,IAAMH,EAAO,C,SAAEJ,E,MAAUC,KAAUA,EAAM,G,CAR1D,IAAIT,EAAII,QAAQY,SAAQC,GAASA,EAAKC,MAAMC,MAAQ,UAYpDnB,EAAIC,KAAKmB,iBAAiB,UAE1B,SAAwBC,GACtB,MAAMC,EAAaC,OAAOvB,EAAIC,KAAKQ,MAAMe,OACnCC,EAAYF,OAAOvB,EAAIC,KAAKyB,KAAKF,OACjCG,EAAiBJ,OAAOvB,EAAIC,KAAK2B,OAAOJ,OAC9CH,EAAMQ,iBACN,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAgBG,GAAK,EAAG,CAG1CvB,EAFeuB,EAAI,EACPR,EAAaG,EAAYK,GAElCC,MAAK,EAACvB,SAAEA,EAAQC,MAAEA,MAEjBuB,EAAAnC,GAASoC,OAAOC,QAAQ,qBAAqB1B,QAAeC,MAAU,IAEvE0B,OAAM,EAAC3B,SAAEA,EAAQC,MAAEA,MAElBuB,EAAAnC,GAASoC,OAAOG,QAAQ,oBAAoB5B,QAAeC,MAAU,IAEzEV,EAAYuB,EAAaG,EAAYE,EAAiB,I,CAKjBU,EAHPtC,EAIhCC,EAAIM,OAAOgC,UAAW,EACtBvB,YAAW,IAAOf,EAAIM,OAAOgC,UAAW,GAAQD,GAFlD,IAAyCA,C","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport 'notiflix/dist/notiflix-3.2.6.min.css';\n\nlet totalTime = null;\nconst ref = {\n  form: document.querySelector('form'),\n  inputs: document.querySelectorAll('input'),\n  button: document.querySelector('button'),\n};\n\n[...ref.inputs].forEach(item => (item.style.width = '100px'));\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      setTimeout(() => resolve({ position, delay }), delay);\n    } else {\n      setTimeout(() => reject({ position, delay }), delay);\n    }\n  });\n}\nref.form.addEventListener('submit', createPromises);\n\nfunction createPromises(event) {\n  const firstDelay = Number(ref.form.delay.value);\n  const stepDelay = Number(ref.form.step.value);\n  const promisesAmount = Number(ref.form.amount.value);\n  event.preventDefault();\n  for (let i = 0; i < promisesAmount; i += 1) {\n    let position = i + 1;\n    let delay = firstDelay + stepDelay * i;\n    createPromise(position, delay)\n      .then(({ position, delay }) => {\n        //console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n        Notiflix.Notify.success(`Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        //console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n        Notiflix.Notify.failure(`Rejected promise ${position} in ${delay}ms`);\n      });\n    totalTime = firstDelay + stepDelay * promisesAmount + 2500;\n  }\n  makeDisableButtonCreatePromises(totalTime);\n}\n\nfunction makeDisableButtonCreatePromises(time) {\n  ref.button.disabled = true;\n  setTimeout(() => (ref.button.disabled = false), time);\n}\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$totalTime","$47d4ff9957288465$var$ref","form","document","querySelector","inputs","querySelectorAll","button","$47d4ff9957288465$var$createPromise","position","delay","Promise","resolve","reject","Math","random","setTimeout","forEach","item","style","width","addEventListener","event","firstDelay","Number","value","stepDelay","step","promisesAmount","amount","preventDefault","i","then","$parcel$interopDefault","Notify","success","catch","failure","time","disabled"],"version":3,"file":"03-promises.74d53b28.js.map"}